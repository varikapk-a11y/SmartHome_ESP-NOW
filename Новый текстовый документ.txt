–ë–≠–ö–ê–ü –ü–†–û–ï–ö–¢–ê SmartHome_ESP-NOW HUB
–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
–í–µ—Ä—Å–∏—è: 2.4 (—Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞ –æ—Ö—Ä–∞–Ω—ã, –Ω–æ –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–≤—è–∑–∏)

–°—Ç–∞—Ç—É—Å: –†–∞–±–æ—á–∏–π, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –ø–æ –ø–ª–∞–Ω—É

–î–∞—Ç–∞: –¢–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è

–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å)
‚úÖ –ó–ê–í–ï–†–®–ï–ù–û: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ö—Ä–∞–Ω—ã –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ (–∫—Ä–∞—Å–Ω—ã–π/–∑–µ–ª–µ–Ω—ã–π –±–ª–æ–∫)

‚úÖ –ó–ê–í–ï–†–®–ï–ù–û: –ó–≤—É–∫–æ–≤–∞—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Ç—Ä–µ–≤–æ–≥–µ (10 —Å–µ–∫—É–Ω–¥, Web Audio API)

üîß –í –†–ê–ó–†–ê–ë–û–¢–ö–ï: –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–≤—è–∑–∏ —Å —É–∑–ª–æ–º - –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö –æ–∫—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∏—è –≤ –∫—Ä–∞—Å–Ω—ã–π + –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—É–∫ (2 —Å–µ–∫)


–ö–ª—é—á–µ–≤—ã–µ MAC-–∞–¥—Ä–µ—Å–∞
cpp
// –û—Å–Ω–æ–≤–Ω–æ–π —É–∑–µ–ª (ESP32-C3)
uint8_t nodeMacAddress[] = {0xAC, 0xEB, 0xE6, 0x49, 0x10, 0x28};

// –¢–µ–ø–ª–∏—Ü–∞ (ESP8266)
uint8_t greenhouseMac[] = {0xE8, 0x9F, 0x6D, 0x87, 0x34, 0x8A};
–§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö ESP-NOW
–û—Ç —É–∑–ª–∞ –∫ —Ö–∞–±—É:

json
// –î–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤
{"type":"sensor","data":{"AHT20":{"temp":27.2,"hum":26.7},"BMP280":{"temp":27.1,"press_mmHg":753.8}}}

// –°—Ç–∞—Ç—É—Å –æ—Ö—Ä–∞–Ω—ã
{"type":"security","alarm":true,"contact1":true,"contact2":false}

// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
{"type":"ack","command":"LED_ON","status":"ok"}

// –°—Ç–∞—Ç—É—Å GPIO
{"type":"gpio","pin":8,"state":1}
–û—Ç —Ö–∞–±–∞ –∫ —É–∑–ª—É:

json
{"type":"command","command":"LED_ON"}
{"type":"command","command":"GET_STATUS"}
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã)
HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

html
<!-- –ë–ª–æ–∫ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ö—Ä–∞–Ω—ã -->
<div id="securityStatus" class="security-status security-normal">
    üîí –û–•–†–ê–ù–ê: –ù–û–†–ú–ê (–∫–æ–Ω—Ü–µ–≤–∏–∫–∏ –∑–∞–º–∫–Ω—É—Ç—ã)
</div>

<!-- –ö–Ω–æ–ø–∫–∞ LED -->
<button id="ledToggleBtn" class="led-unknown" onclick="toggleLED()">--</button>

<!-- –î–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤ -->
<div id="nodeSensorData">...</div>
–ó–≤—É–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (JavaScript):

playAlarmTone() - —Å–∏—Ä–µ–Ω–∞ –Ω–∞ 10 —Å–µ–∫—É–Ω–¥ (800/1200 –ì—Ü, sawtooth)

stopAlarmTone() - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Ä–µ–Ω—ã

initAudioOnFirstTouch() - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è AudioContext

CSS-–∫–ª–∞—Å—Å—ã –¥–ª—è –æ—Ö—Ä–∞–Ω—ã:

css
.security-normal { background: linear-gradient(135deg, #27ae60, #2ecc71); }
.security-alarm { 
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    animation: alarm-pulse 1s infinite; 
}
–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —Ö–∞–±–µ (C++)
–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

cpp
void processNodeData(const uint8_t *data, int len);  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —É–∑–ª–∞
void processGreenhouseData(const uint8_t *data);     // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–ø–ª–∏—Ü—ã
void sendToNode(String cmd);                         // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ —É–∑–ª—É
void broadcastWs(String type, String text, String state = ""); // –í–µ—â–∞–Ω–∏–µ –≤ –≤–µ–±
–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ö—Ä–∞–Ω—ã:

cpp
// –í —Ñ—É–Ω–∫—Ü–∏–∏ processNodeData()
if (strcmp(type, "security") == 0) {
    bool alarm = doc["alarm"];
    bool contact1 = doc["contact1"];
    bool contact2 = doc["contact2"];
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    StaticJsonDocument<200> response;
    response["type"] = "security";
    response["alarm"] = alarm;
    response["contact1"] = contact1;
    response["contact2"] = contact2;
    // ... –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ ws.textAll()
}
–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∏ –∑–∞–¥–∞—á–∞
–ü—Ä–æ–±–ª–µ–º–∞:

–ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ —É–∑–ª–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ

–ö–Ω–æ–ø–∫–∞ LED –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∏–∑–≤–µ—Å—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

–ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–π/–∑–≤—É–∫–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –ø–æ—Ç–µ—Ä–∏ —Å–≤—è–∑–∏

–ó–∞–¥–∞—á–∞:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–≤—è–∑–∏, –∫–æ—Ç–æ—Ä—ã–π:

–ù–µ —Å—Ç–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏

–û–∫—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∏—è –≤ –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç

–í–∫–ª—é—á–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª (2 —Å–µ–∫—É–Ω–¥—ã)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –≤–∏–¥ –ø—Ä–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ
–î–æ–±–∞–≤–∏—Ç—å CSS-–∫–ª–∞—Å—Å—ã –¥–ª—è "—É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö" –¥–∞–Ω–Ω—ã—Ö:

css
.data-stale { color: #e74c3c !important; opacity: 0.7; }
.sensor-item.stale-data { border-left: 5px solid #e74c3c !important; }
–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–≤—É–∫–∞:

javascript
function playShortBeep() {
    // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ playAlarmTone(), –Ω–æ –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã
    playAlarmTone();
    setTimeout(stopAlarmTone, 2000);
}
–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ö–∞–±–µ:

cpp
unsigned long lastNodeDataTime = 0;
const unsigned long NODE_TIMEOUT_MS = 70000; // 70 —Å–µ–∫—É–Ω–¥ (2 —Å–µ–∞–Ω—Å–∞ + –∑–∞–ø–∞—Å)
–õ–æ–≥–∏–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ:

cpp
void loop() {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–µ –ø—Ä–æ—à–ª–æ –ª–∏ –±–æ–ª—å—à–µ NODE_TIMEOUT_MS —Å lastNodeDataTime
    // –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –≤–µ–± —Å–æ–æ–±—â–µ–Ω–∏–µ type: "connection_lost"
    // –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º type: "connection_restored"
}
–°—Å—ã–ª–∫–∏ –Ω–∞ –≤–∞–∂–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
–ü—Ä–∏–º–µ—Ä –∑–≤—É–∫–æ–≤—ã—Ö —Å—Ö–µ–º (—Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ Android):
https://gist.github.com/varikapk-a11y/8245717633a2cc2fba71847217da4943

–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è):

CHAT_TRANSITION.md - –ø–∞—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞

PROJECT_BASELINE.md - –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

ROADMAP.md - –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
–ù–µ –Ω–∞—Ä—É—à–∞—Ç—å —Ä–∞–±–æ—á—É—é –ª–æ–≥–∏–∫—É - ESP-NOW —Å–≤—è–∑—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ, –Ω–µ –º–µ–Ω—è—Ç—å

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è - –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

–ì–æ—Ç–æ–≤—ã–π –∫–æ–¥ - –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –∫–æ–¥, –∞ –Ω–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:

–°–Ω–∞—á–∞–ª–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–≤—è–∑–∏ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π

–ó–∞—Ç–µ–º –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ LED (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞)

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (PWA, –ª–æ–≥–∏ —Å–æ–±—ã—Ç–∏–π)

–ë—ç–∫–∞–ø –≥–æ—Ç–æ–≤. –ù–æ–≤—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å —É—á—ë—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ø–ª–∞–Ω–∞ —Ä–∞–±–æ—Ç.

—Å–ª–∞–±–µ–Ω—å–∫–∏–π –±–µ–∫–∞–ø, —Ç—ã –¥–∞–∂–µ –Ω–µ—É–∫–∞–∑–∞–ª —á—Ç–æ –µ—â–µ –∏–∑ —Ç–µ–ø–ª–∏—Ü—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –¥–∞–Ω–Ω—ã–µ
–í—ã –ø—Ä–∞–≤—ã, –±—ç–∫–∞–ø –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–ª–∞–±—ã–π. –í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã:

üìã –ü–û–õ–ù–´–ô –ë–≠–ö–ê–ü –ü–†–û–ï–ö–¢–ê SmartHome_ESP-NOW HUB
–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –°–ò–°–¢–ï–ú–´
–í–µ—Ä—Å–∏—è —Ö–∞–±–∞: 2.4 (—Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞ –æ—Ö—Ä–∞–Ω—ã)

–£–°–¢–†–û–ô–°–¢–í–ê –ò MAC-–ê–î–†–ï–°–ê
cpp
// –•–∞–± (ESP32) - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —à–ª—é–∑
// –†–µ–∂–∏–º: WIFI_AP_STA (AP –¥–ª—è –≤–µ–±–∞, STA –¥–ª—è ESP-NOW)
// –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://192.168.4.1

// –£–∑–µ–ª 101 - "–ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è" (ESP32-C3)
uint8_t nodeMacAddress[] = {0xAC, 0xEB, 0xE6, 0x49, 0x10, 0x28};
// –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: sensor, security, ack, gpio –¥–∞–Ω–Ω—ã–µ

// –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ "–¢–µ–ø–ª–∏—Ü–∞" (ESP8266)
uint8_t greenhouseMac[] = {0xE8, 0x9F, 0x6D, 0x87, 0x34, 0x8A};
// –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã greenhouse_packet
–§–û–†–ú–ê–¢–´ –î–ê–ù–ù–´–• –û–¢ –í–°–ï–• –£–°–¢–†–û–ô–°–¢–í
1. –û–¢ –£–ó–õ–ê 101 (ESP32-C3) - JSON —á–µ—Ä–µ–∑ esp_now_message
json
// 1.1 –î–ê–ù–ù–´–ï –î–ê–¢–ß–ò–ö–û–í (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)
{
  "type": "sensor",
  "data": {
    "AHT20": {"temp": 27.2, "hum": 26.7},
    "BMP280": {"temp": 27.1, "press_mmHg": 753.8}
  }
}

// 1.2 –°–¢–ê–¢–£–° –û–•–†–ê–ù–´ (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏)
{
  "type": "security",
  "alarm": false,     // true = —Ç—Ä–µ–≤–æ–≥–∞ (—Ä–∞–∑—Ä—ã–≤ —Ü–µ–ø–∏)
  "contact1": false,  // true = –∫–æ–Ω—Ü–µ–≤–∏–∫ 1 —Ä–∞–∑–æ–º–∫–Ω—É—Ç
  "contact2": false   // true = –∫–æ–Ω—Ü–µ–≤–∏–∫ 2 —Ä–∞–∑–æ–º–∫–Ω—É—Ç
}

// 1.3 –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ö–û–ú–ê–ù–î
{
  "type": "ack",
  "command": "LED_ON",
  "status": "ok"
}

// 1.4 –°–¢–ê–¢–£–° GPIO
{
  "type": "gpio",
  "pin": 8,
  "state": 1  // 1 = HIGH/–≤–∫–ª, 0 = LOW/–≤—ã–∫–ª
}
2. –û–¢ –¢–ï–ü–õ–ò–¶–´ (ESP8266) - –ë–ò–ù–ê–†–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê
cpp
#pragma pack(push, 1)
typedef struct greenhouse_packet {
    char temp_in[4];      // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–∏ (¬∞C) –∫–∞–∫ "22.5"
    uint8_t reserved1[28];
    char temp_out[4];     // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å–Ω–∞—Ä—É–∂–∏ (¬∞C)
    uint8_t reserved2[28];
    uint32_t relay2_state;  // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–ª–µ 2
    uint32_t hum_in;        // –í–ª–∞–∂–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ (%)
    uint32_t broken_sensor1;
    uint32_t broken_sensor2;
    uint32_t relay1_state;  // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–ª–µ 1
} greenhouse_packet;
#pragma pack(pop)
// –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ
3. –û–¢ –•–ê–ë–ê –ö –£–ó–õ–£ 101 - –ö–û–ú–ê–ù–î–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø
json
{"type": "command", "command": "LED_ON"}
{"type": "command", "command": "LED_OFF"}
{"type": "command", "command": "GET_STATUS"}
–í–ï–ë-–ò–ù–¢–ï–†–§–ï–ô–° - –ü–û–õ–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê
HTML-–ë–õ–û–ö–ò:
html
<!-- 1. –°–ï–ö–¶–ò–Ø –û–°–ù–û–í–ù–û–ì–û –£–ó–õ–ê -->
<div class="section">
  <div class="section-title">üìü –û—Å–Ω–æ–≤–Ω–æ–π —É–∑–µ–ª (ID: 101)</div>
  <div id="securityStatus" class="security-status security-normal">
    üîí –û–•–†–ê–ù–ê: –ù–û–†–ú–ê (–∫–æ–Ω—Ü–µ–≤–∏–∫–∏ –∑–∞–º–∫–Ω—É—Ç—ã)
  </div>
  <button id="ledToggleBtn" class="led-unknown" onclick="toggleLED()">--</button>
  <div id="nodeSensorData">...</div>
</div>

<!-- 2. –°–ï–ö–¶–ò–Ø –¢–ï–ü–õ–ò–¶–´ -->
<div class="section">
  <div class="section-title">üåø –¢–µ–ø–ª–∏—Ü–∞ (ID: 102)</div>
  <div class="sensor-grid">
    <div class="sensor-item">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (–≤–Ω—É—Ç—Ä–∏): <span class="sensor-value">--</span>¬∞C</div>
    <div class="sensor-item">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (—É–ª–∏—Ü–∞): <span class="sensor-value">--</span>¬∞C</div>
    <div class="sensor-item">–í–ª–∞–∂–Ω–æ—Å—Ç—å (–≤–Ω—É—Ç—Ä–∏): <span class="sensor-value">--</span>%</div>
    <div class="sensor-item">–†–µ–ª–µ 1: <span id="relay1State" class="relay-status">--</span></div>
    <div class="sensor-item">–†–µ–ª–µ 2: <span id="relay2State" class="relay-status">--</span></div>
  </div>
  <div id="lastUpdate">–û–∂–∏–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Ç–µ–ø–ª–∏—Ü—ã...</div>
</div>
–ó–í–£–ö–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê (JavaScript):
javascript
// –†–∞–±–æ—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ Android):
let audioContext = null;
let alarmInterval = null;
let isAlarmPlaying = false;

// 1. –°–ò–†–ï–ù–ê –¢–†–ï–í–û–ì–ò (10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –æ—Ö—Ä–∞–Ω—ã)
function playAlarmTone() {
  if (isAlarmPlaying) return;
  isAlarmPlaying = true;
  
  // –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª 800/1200 –ì—Ü
  alarmInterval = setInterval(() => {
    playAlarmPulse(800, 0.1);
    setTimeout(() => { playAlarmPulse(1200, 0.1); }, 150);
  }, 500);
  
  setTimeout(stopAlarmTone, 10000); // –ê–≤—Ç–æ—Å—Ç–æ–ø —á–µ—Ä–µ–∑ 10 —Å–µ–∫
}

// 2. –û–°–¢–ê–ù–û–í–ö–ê –°–ò–†–ï–ù–´
function stopAlarmTone() {
  if (!isAlarmPlaying) return;
  isAlarmPlaying = false;
  if (alarmInterval) clearInterval(alarmInterval);
}

// –ò—Å—Ç–æ—á–Ω–∏–∫: https://gist.github.com/varikapk-a11y/8245717633a2cc2fba71847217da4943
CSS –î–õ–Ø –ò–ù–î–ò–ö–ê–¶–ò–ò:
css
/* –°—Ç–∞—Ç—É—Å –æ—Ö—Ä–∞–Ω—ã */
.security-normal { background: linear-gradient(135deg, #27ae60, #2ecc71); }
.security-alarm { 
  background: linear-gradient(135deg, #e74c3c, #c0392b);
  animation: alarm-pulse 1s infinite; 
}

/* –°—Ç–∞—Ç—É—Å —Ä–µ–ª–µ —Ç–µ–ø–ª–∏—Ü—ã */
.relay-on { background-color: #27ae60; color: white; }
.relay-off { background-color: #e74c3c; color: white; }

/* –ö–Ω–æ–ø–∫–∞ LED */
.led-on { background: linear-gradient(135deg, #e74c3c, #c0392b); }
.led-off { background: linear-gradient(135deg, #2ecc71, #27ae60); }
.led-unknown { background: #95a5a6; cursor: not-allowed; }
–õ–û–ì–ò–ö–ê –û–ë–†–ê–ë–û–¢–ö–ò –ù–ê –•–ê–ë–ï (C++)
–ö–õ–Æ–ß–ï–í–´–ï –§–£–ù–ö–¶–ò–ò:
cpp
// 1. –û–ë–†–ê–ë–û–¢–ö–ê –î–ê–ù–ù–´–• –û–¢ –£–ó–õ–ê 101
void processNodeData(const uint8_t *data, int len) {
  // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç JSON, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç type: sensor/security/ack/gpio
  // –î–ª—è security: –≤–∫–ª—é—á–∞–µ—Ç –∑–≤—É–∫ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
}

// 2. –û–ë–†–ê–ë–û–¢–ö–ê –î–ê–ù–ù–´–• –¢–ï–ü–õ–ò–¶–´
void processGreenhouseData(const uint8_t *data) {
  // –ü–∞—Ä—Å–∏—Ç greenhouse_packet —Å—Ç—Ä—É–∫—Ç—É—Ä—É
  // –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, —Å—Ç–∞—Ç—É—Å—ã —Ä–µ–ª–µ
  // –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞: –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ–± —Ä–∞–∑ –≤ 30 —Å–µ–∫—É–Ω–¥
}

// 3. –û–¢–ü–†–ê–í–ö–ê –ö–û–ú–ê–ù–î –£–ó–õ–£
void sendToNode(String cmd) {
  // –§–æ—Ä–º–∏—Ä—É–µ—Ç {"type":"command","command":"..."}
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ esp_now_send –Ω–∞ nodeMacAddress
}
–û–ë–†–ê–ë–û–¢–ö–ê –¢–ï–ü–õ–ò–¶–´ (–î–ï–¢–ê–õ–ò):
cpp
void processGreenhouseData(const uint8_t *data) {
  greenhouse_packet packet;
  memcpy(&packet, data, sizeof(greenhouse_packet));
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ (—Ä–∞–∑ –≤ 30 —Å–µ–∫—É–Ω–¥)
  if (millis() - lastGreenhouseUpdate < 30000) return;
  lastGreenhouseUpdate = millis();
  
  // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è char[4] –≤ String
  char temp_in_str[5] = {0};
  char temp_out_str[5] = {0};
  strncpy(temp_in_str, packet.temp_in, 4);
  strncpy(temp_out_str, packet.temp_out, 4);
  
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –≤–µ–±
  StaticJsonDocument<300> response;
  response["type"] = "greenhouse_data";
  response["temp_in"] = temp_in_str;
  response["temp_out"] = temp_out_str;
  response["hum_in"] = packet.hum_in;
  response["relay1_state"] = packet.relay1_state;
  response["relay2_state"] = packet.relay2_state;
  
  ws.textAll(response);
}
–¢–ï–ö–£–©–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ò –ó–ê–î–ê–ß–ò
–ü–†–û–ë–õ–ï–ú–´:
–ü–æ—Ç–µ—Ä—è —Å–≤—è–∑–∏ —Å —É–∑–ª–æ–º 101: –í–µ–± –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–Ω–æ–ø–∫–∞ LED "–∑–∞–ª–∏–ø–∞–µ—Ç"

–ù–µ—Ç –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –ø–æ—Ç–µ—Ä–∏ —Å–≤—è–∑–∏: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç, —á—Ç–æ —É–∑–µ–ª –æ—Ç–∫–ª—é—á–µ–Ω

–°–ø–∞–º –∑–∞–ø—Ä–æ—Å–∞–º–∏: –•–∞–± –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ —à–ª—ë—Ç GET_STATUS –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—Ç–≤–µ—Ç–∞

–ó–ê–î–ê–ß–ê –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò:
–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–≤—è–∑–∏ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π:

–ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏ ( >70 —Å–µ–∫) –æ–∫—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫—Ä–∞—Å–Ω—ã–π

–í–∫–ª—é—á–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª (2 —Å–µ–∫—É–Ω–¥—ã)

–ù–ï —Å—Ç–∏—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)

–ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏

–ü–†–ï–î–õ–ê–ì–ê–ï–ú–û–ï –†–ï–®–ï–ù–ò–ï
cpp
// 1. –î–û–ë–ê–í–ò–¢–¨ –ù–ê –•–ê–ë–ï:
unsigned long lastNodeDataTime = 0;
const unsigned long NODE_TIMEOUT_MS = 70000; // 70 —Å–µ–∫ (2 —Å–µ–∞–Ω—Å–∞ —Å–≤—è–∑–∏)

// –í loop():
void checkNodeConnection() {
  if (millis() - lastNodeDataTime > NODE_TIMEOUT_MS) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –≤–µ–±: {"type": "connection_lost"}
  }
}
javascript
// 2. –î–û–ë–ê–í–ò–¢–¨ –í –í–ï–ë:
// –ö–æ—Ä–æ—Ç–∫–∏–π –∑–≤—É–∫ (2 —Å–µ–∫—É–Ω–¥—ã)
function playShortBeep() {
  playAlarmTone();
  setTimeout(stopAlarmTone, 2000);
}

// CSS –¥–ª—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
.data-stale { color: #e74c3c !important; opacity: 0.7; }
.sensor-item.stale-data { border-left: 5px solid #e74c3c !important; }

// –û–±—Ä–∞–±–æ—Ç–∫–∞ connection_lost
function markDataAsStale() {
  document.querySelectorAll('.sensor-value').forEach(el => {
    el.classList.add('stale-data');
  });
  playShortBeep();
}
–í–ê–ñ–ù–´–ï –°–°–´–õ–ö–ò –ò –†–ï–°–£–†–°–´
–ó–≤—É–∫–æ–≤—ã–µ —Å—Ö–µ–º—ã (—Ä–∞–±–æ—á–∏–µ –Ω–∞ Android):
https://gist.github.com/varikapk-a11y/8245717633a2cc2fba71847217da4943

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

docs/CHAT_TRANSITION.md - –ø–∞—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞

docs/PROJECT_BASELINE.md - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

docs/ROADMAP.md - –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

–ü–æ–≤–µ–¥–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:

–£–∑–µ–ª 101: –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ sensor (30 —Å–µ–∫) + security (2 —Å–µ–∫)

–¢–µ–ø–ª–∏—Ü–∞: –∞–≤—Ç–æ–æ—Ç–ø—Ä–∞–≤–∫–∞ greenhouse_packet (30 —Å–µ–∫)

–•–∞–±: –ø–∞—Å—Å–∏–≤–Ω—ã–π –ø—Ä–∏—ë–º + –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –ø–æ –∑–∞–ø—Ä–æ—Å—É

–ü–†–ò–ù–¶–ò–ü–´ –†–ê–ó–†–ê–ë–û–¢–ö–ò
–ù–µ –º–µ–Ω—è—Ç—å —Ä–∞–±–æ—á—É—é –ª–æ–≥–∏–∫—É ESP-NOW - —Å–≤—è–∑—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è - —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–ì–æ—Ç–æ–≤—ã–π –∫–æ–¥ - –≤—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π —Å–∫–µ—Ç—á

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–≤—è–∑–∏ ‚Üí –∫–Ω–æ–ø–∫–∞ LED ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ë—ç–∫–∞–ø –∑–∞–≤–µ—Ä—à—ë–Ω. –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Å —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã, —É—á–∏—Ç—ã–≤–∞—è –≤—Å–µ —Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (—Ö–∞–±, —É–∑–µ–ª, —Ç–µ–ø–ª–∏—Ü–∞) –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.

—á—Ç–æ –∑–∞ –≥–ª—É–ø–æ—Å—Ç—å, —Ç–µ–ø–ª–∏—Ü–∞ –Ω–µ —Å —É–∑–ª–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∞ —Å —Ö–∞–±–æ–º –Ω–∞–ø—Ä—è–º—É—é, —Ç—ã —ç—Ç–æ–≥–æ –Ω–µ–∑–Ω–∞–µ—à—å?
–í—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø—Ä–∞–≤—ã, –∏ —è –¥–æ–ø—É—Å—Ç–∏–ª —Å–µ—Ä—å—ë–∑–Ω—É—é –æ—à–∏–±–∫—É –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–Ω–∞–Ω–∏–µ –æ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –∏ —è –¥–æ–ª–∂–µ–Ω –±—ã–ª –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ä–∞–∑–∏—Ç—å –µ–≥–æ.

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

text
            ESP-NOW                          ESP-NOW
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –£–ó–ï–õ 101    ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ     –•–ê–ë       ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   –¢–ï–ü–õ–ò–¶–ê   ‚îÇ
‚îÇ  (ESP32-C3)   ‚îÇ                   ‚îÇ   (ESP32)     ‚îÇ                   ‚îÇ  (ESP8266)  ‚îÇ
‚îÇ               ‚îÇ                   ‚îÇ               ‚îÇ                   ‚îÇ             ‚îÇ
‚îÇ ‚Ä¢ –î–∞—Ç—á–∏–∫–∏     ‚îÇ     –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è  ‚îÇ ‚Ä¢ –í–µ–±-—Å–µ—Ä–≤–µ—Ä  ‚îÇ    –û–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è  ‚îÇ ‚Ä¢ –î–∞—Ç—á–∏–∫–∏    ‚îÇ
‚îÇ ‚Ä¢ –û—Ö—Ä–∞–Ω–∞      ‚îÇ       —Å–≤—è–∑—å       ‚îÇ ‚Ä¢ WebSocket   ‚îÇ      —Å–≤—è–∑—å        ‚îÇ ‚Ä¢ –†–µ–ª–µ       ‚îÇ
‚îÇ ‚Ä¢ LED —É–ø—Ä–∞–≤–ª. ‚îÇ   (–∫–æ–º–∞–Ω–¥—ã+–¥–∞–Ω–Ω—ã–µ)‚îÇ ‚Ä¢ –ö–æ–Ω—Ç—Ä–æ–ª—å    ‚îÇ   (—Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ) ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚îÇ
                                           HTTP/WS
                                            ‚ñº
                                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                  ‚îÇ  –í–ï–ë-–ë–†–ê–£–ó–ï–†    ‚îÇ
                                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
–ö–ª—é—á–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –±—ç–∫–∞–ø—É:

–¢–µ–ø–ª–∏—Ü–∞ (ESP8266) –æ–±—â–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é —Å –•–∞–±–æ–º (ESP32), –∞ –Ω–µ —Å –£–∑–ª–æ–º 101. –ú–µ–∂–¥—É —Ç–µ–ø–ª–∏—Ü–µ–π –∏ —É–∑–ª–æ–º –Ω–µ—Ç –ø—Ä—è–º–æ–π —Å–≤—è–∑–∏ ESP-NOW.

–¢–∏–ø —Å–≤—è–∑–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è:

–•–∞–± ‚Üî –£–∑–µ–ª 101: –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å. –•–∞–± –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã (LED_ON, LED_OFF, GET_STATUS), —É–∑–µ–ª –æ—Ç–≤–µ—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç—á–∏–∫–æ–≤, —Å—Ç–∞—Ç—É—Å–æ–º –æ—Ö—Ä–∞–Ω—ã –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è–º–∏.

–•–∞–± ‚Üî –¢–µ–ø–ª–∏—Ü–∞: –û–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å (–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞). –¢–µ–ø–ª–∏—Ü–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∞–∫–µ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ (greenhouse_packet), —Ö–∞–± –∏—Ö –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç. –•–∞–± –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Ç–µ–ø–ª–∏—Ü—É –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

MAC-–∞–¥—Ä–µ—Å–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ö–∞–±–µ –¥–ª—è –æ–±–æ–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ. –•–∞–± —Ö—Ä–∞–Ω–∏—Ç –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö MAC-–∞–¥—Ä–µ—Å–∞ –≤ nodeMacAddress[] –∏ greenhouseMac[] –∏ —è–≤–ª—è–µ—Ç—Å—è —à–ª—é–∑–æ–º –¥–ª—è –æ–±–æ–∏—Ö.

–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –∫–æ–¥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π onEspNowDataRecv() –∏ processNodeData() / processGreenhouseData() –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Ö–∞–±–∞.