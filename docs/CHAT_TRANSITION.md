# üöÄ –ü–ï–†–ï–•–û–î –ú–ï–ñ–î–£ –ß–ê–¢–ê–ú–ò: –ö–û–ù–¢–ï–ö–°–¢ –î–õ–Ø –ü–†–û–î–û–õ–ñ–ï–ù–ò–Ø

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-04-10
**–ü–æ—Å–ª–µ–¥–Ω–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç:** –ü—Ä–µ—Ä–≤–∞–Ω –Ω–∞ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏ ESP-NOW.
**–¶–µ–ª—å —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ—Å–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.

---

## üîç –°–í–û–î–ö–ê –¢–ï–ö–£–©–ï–ô –°–ò–¢–£–ê–¶–ò–ò

### ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ (—Å—Ç–∞–±–∏–ª—å–Ω–æ)
1.  **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è `firmware/Hub` –∏ `firmware/Node` –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ PlatformIO.
2.  **–£–∑–µ–ª (ESP32-C3):**
    - –ß—Ç–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–æ–≤ AHT20 –∏ BMP280 (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Adafruit).
    - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ JSON: `{"node":101,"sensor":"AHT20+BMP280","AHT20":{"temp":...,"hum":...},"BMP280":{"temp":...,"press_mmHg":...}}`.
    - MAC —É–∑–ª–∞: `AC:EB:E6:49:10:28`.
3.  **–•–∞–± (ESP32):** –í–µ–±-—Å–µ—Ä–≤–µ—Ä (ESPAsyncWebServer) –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è.

### ‚ùå –ì–õ–ê–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê
**–°–≤—è–∑—å ESP-NOW –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.** –£–∑–µ–ª –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É `[–û–®–ò–ë–ö–ê] –û—Ç–ø—Ä–∞–≤–∫–∏: 12390` (ESP_ERR_ESPNOW_NOT_INIT).

#### üéØ –ö–û–†–ï–ù–ù–´–ï –ü–†–ò–ß–ò–ù–´ (–í–´–Ø–í–õ–ï–ù–´):
1.  **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ MAC-–∞–¥—Ä–µ—Å–æ–≤:**
    - **–ö–æ–¥ —É–∑–ª–∞** (`Node/src/main.cpp`): `hubMacAddress[] = {0x9C, 0x9C, 0x1F, 0xC7, 0x2D, 0x94}`.
    - **–í –ª–æ–≥–∞—Ö —Ö–∞–±–∞:** `MAC-–∞–¥—Ä–µ—Å —Ö–∞–±–∞: 9C:9C:1F:C7:2D:95` (AP MAC –≤ —Ä–µ–∂–∏–º–µ `WIFI_AP`).
    - **–í—ã–≤–æ–¥:** –£–∑–µ–ª —à–ª–µ—Ç –Ω–∞ `...94`, —Ö–∞–± "—Å–ª—É—à–∞–µ—Ç" –Ω–∞ `...95`.

2.  **–ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–µ–∂–∏–º–æ–≤ Wi-Fi:**
    - **–£–∑–µ–ª:** –†–µ–∂–∏–º `WIFI_STA` (—Å—Ç–∞–Ω—Ü–∏—è).
    - **–•–∞–± (–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ—à–∏–≤–∫–µ):** –†–µ–∂–∏–º `WIFI_AP` –∏–ª–∏ `WIFI_AP_STA` (–¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞).
    - **–í–∞–∂–Ω–æ:** –ü—Ä–∏ `WIFI_AP`/`WIFI_AP_STA` ESP32 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **AP MAC-–∞–¥—Ä–µ—Å** –¥–ª—è ESP-NOW, —á—Ç–æ –∏ –ø—Ä–∏–≤–µ–ª–æ –∫ —Å–º–µ–Ω–µ —Å `...94` –Ω–∞ `...95`.

3.  **–§–æ–Ω–æ–≤—ã–π —à—É–º:** –•–∞–± –≤–∏–¥–∏—Ç –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (`E8:9F:6D:87:34:8A`), —á—Ç–æ –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É ESP-NOW, –Ω–æ –Ω–µ–≤–µ—Ä–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø–∏—Ä–∏–Ω–≥–∞.

---

## üìã –¢–û–ß–ö–ò –ü–†–ò–ù–Ø–¢–ò–Ø –†–ï–®–ï–ù–ò–ô (–°–†–û–ß–ù–û)

**–ü–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –ø—É—Ç—å:**

### –í–û–ü–†–û–° 1: –ö–æ–Ω–µ—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö–∞–±–∞?
-   **–í–∞—Ä–∏–∞–Ω—Ç A (–¢–æ–ª—å–∫–æ —Å–≤—è–∑—å):** –•–∞–± –≤ `WIFI_STA`. **–ù–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è ESP-NOW —Å–≤—è–∑—å. –ù—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–± –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Serial).
-   **–í–∞—Ä–∏–∞–Ω—Ç B (–°–≤—è–∑—å + –í–µ–±):** –•–∞–± –≤ `WIFI_AP_STA`. ESP-NOW —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ **STA –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (MAC: ...94)**, –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —á–µ—Ä–µ–∑ **AP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (MAC: ...95)**. –¢—Ä–µ–±—É–µ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –í–û–ü–†–û–° 2: –ö–∞–∫–æ–π MAC –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤ –∫–æ–¥–µ —É–∑–ª–∞?
-   –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –û—Ç–≤–µ—Ç–∞ 1.
-   **–ï—Å–ª–∏ –í–∞—Ä–∏–∞–Ω—Ç A (`WIFI_STA`):** MAC = `...94` (STA MAC —Ö–∞–±–∞). –ù—É–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –µ–≥–æ, –¥–æ–±–∞–≤–∏–≤ `Serial.println("STA MAC: " + WiFi.macAddress());` –≤ –∫–æ–¥ —Ö–∞–±–∞.
-   **–ï—Å–ª–∏ –í–∞—Ä–∏–∞–Ω—Ç B (`WIFI_AP_STA`):** MAC = `...94` (STA MAC —Ö–∞–±–∞). –¢–æ—Ç –∂–µ —Å–∞–º—ã–π.

**üëâ –†–ï–®–ï–ù–ò–ï –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ –î–õ–Ø –ü–†–û–î–û–õ–ñ–ï–ù–ò–Ø:**
–ù–∞—á–∞—Ç—å —Å **–í–∞—Ä–∏–∞–Ω—Ç–∞ A** –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏. –ü–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞ –ø–µ—Ä–µ–π—Ç–∏ –∫ –í–∞—Ä–∏–∞–Ω—Ç—É B.

---

### 1. –í —Ñ–∞–π–ª–µ `firmware/Hub/src/main.cpp` –∏ `firmware/Node/src/main.cpp`:
- **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è JSON-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `esp_now_message`, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –ø–æ–ª–µ `json[192]`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª–µ–≥–∫—É—é —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å–≤—è–∑—å ESP-NOW**: –•–∞–± —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ `WIFI_AP_STA` (—Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –≤–µ–±–∞ + —Å—Ç–∞–Ω—Ü–∏—è –¥–ª—è ESP-NOW). –£–∑–µ–ª ‚Äî –≤ —Ä–µ–∂–∏–º–µ `WIFI_STA`. MAC-–∞–¥—Ä–µ—Å–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.
- **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ ArduinoJson**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ `platformio.ini` –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —É–∑–ª–∞, —á—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏–ª–æ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.
- **–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ß–µ—Ä–µ–∑ WebSocket —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–º (LED_ON/OFF, GET_STATUS) –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–æ–≤ AHT20/BMP280 –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
---

## üìÅ –°–°–´–õ–ö–ò –ù–ê –í–ê–ñ–ù–´–ï –§–ê–ô–õ–´

-   **–ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥ —É–∑–ª–∞:** [`firmware/Node/src/main.cpp`](https://github.com/varikapk-a11y/SmartHome_ESP-NOW/blob/main/firmware/Node/src/main.cpp)
-   **–ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥ —Ö–∞–±–∞ (—Ç—Ä–µ–±—É–µ—Ç –∑–∞–º–µ–Ω—ã):** [`firmware/Hub/src/main.cpp`](https://github.com/varikapk-a11y/SmartHome_ESP-NOW/blob/main/firmware/Hub/src/main.cpp)
-   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ (Node):** [`firmware/Node/platformio.ini`](https://github.com/varikapk-a11y/SmartHome_ESP-NOW/blob/main/firmware/Node/platformio.ini)
-   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ (Hub):** [`firmware/Hub/platformio.ini`](https://github.com/varikapk-a11y/SmartHome_ESP-NOW/blob/main/firmware/Hub/platformio.ini)
-   **–û–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:** [`docs/PROJECT_BASELINE.md`](https://github.com/varikapk-a11y/SmartHome_ESP-NOW/blob/main/docs/PROJECT_BASELINE.md)
-   **–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è:** [`docs/ROADMAP.md`](https://github.com/varikapk-a11y/SmartHome_ESP-NOW/blob/main/docs/ROADMAP.md)

---

## üí¨ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô –î–õ–Ø –ù–û–í–û–ì–û –ê–°–°–ò–°–¢–ï–ù–¢–ê

–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–≥–æ –¥–æ–º–∞ –Ω–∞ ESP-NOW. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å–≤—è–∑–∏ —Ä–µ—à–µ–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç.**

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å –º–µ–∂–¥—É —Ö–∞–±–æ–º (ESP32) –∏ —É–∑–ª–æ–º (ESP32-C3) –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π JSON-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LED –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

**–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞: –•–∞–± –≤ `WIFI_AP_STA`, —É–∑–µ–ª –≤ `WIFI_STA`. –ö–æ–¥—ã –ø—Ä–æ—à–∏–≤–æ–∫ –≤ `firmware/` –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω—ã.
- –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ ‚Äî —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É –≤ `ROADMAP.md` (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤, —É–ª—É—á—à–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –ø–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏).
- –ü–µ—Ä–µ–¥ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥ **–≤—Å–µ–≥–¥–∞ —Å–≤–µ—Ä—è–π—Ç–µ—Å—å —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ `PROJECT_BASELINE.md`**.

–£–¥–∞—á–∏ –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞!
_________________________________

# üöÄ –ü–ï–†–ï–•–û–î –ú–ï–ñ–î–£ –ß–ê–¢–ê–ú–ò: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

**–î–∞—Ç–∞:** 2025-04-10
**–°—Ç–∞—Ç—É—Å:** –í–Ω–µ—Å–µ–Ω—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–¥ —Ö–∞–±–∞ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ MAC-–∞–¥—Ä–µ—Å–æ–≤.

## üîß –í–ù–ï–°–ï–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### 1. –í —Ñ–∞–π–ª–µ `firmware/Hub/src/main.cpp`:
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ MAC-–∞–¥—Ä–µ—Å–æ–≤:** –¢–µ–ø–µ—Ä—å –≤—ã–≤–æ–¥—è—Ç—Å—è –û–ë–ê –∞–¥—Ä–µ—Å–∞:
  - `STA MAC (–¥–ª—è ESP-NOW)`: 9C:9C:1F:C7:2D:94 (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–ª—è —Å–≤—è–∑–∏)
  - `AP MAC (–¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)`: 9C:9C:1F:C7:2D:95 (–¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞)
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å:** ESP-NOW —è–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ STA –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ª—É—á—à–µ–Ω:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ–±–∞ MAC-–∞–¥—Ä–µ—Å–∞ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏.

### 2. –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã (—Ä–µ—à–µ–Ω–∞):
–°—Ç–∞—Ä—ã–π –∫–æ–¥ —Ö–∞–±–∞ –≤—ã–≤–æ–¥–∏–ª —Ç–æ–ª—å–∫–æ AP MAC (`...95`), —á—Ç–æ –≤–≤–æ–¥–∏–ª–æ –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ.
–£–∑–µ–ª –±—ã–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ STA MAC (`...94`), —á—Ç–æ –∏ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É `ESP_ERR_ESPNOW_NOT_INIT (12390)`.

## üéØ –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì –î–õ–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

## ‚úÖ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° (–°–ò–°–¢–ï–ú–ê –†–ê–ë–û–¢–ê–ï–¢)

**–î–∞—Ç–∞:** 2025-04-10
**–°—Ç–∞—Ç—É—Å:** üü¢ –ë–∞–∑–æ–≤–∞—è —Å–≤—è–∑—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, —Å–∏—Å—Ç–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä—ë–º–µ.

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å ESP-NOW**: –•–∞–± (ESP32) –∏ —É–∑–µ–ª (ESP32-C3) —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–º—É JSON-–ø—Ä–æ—Ç–æ–∫–æ–ª—É.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–º —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**: –ö–Ω–æ–ø–∫–∏ "–í–ö–õ–Æ–ß–ò–¢–¨ LED", "–í–´–ö–õ–Æ–ß–ò–¢–¨ LED", "–ó–ê–ü–†–û–° –î–ê–ù–ù–´–•" —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –ø–æ–ª—É—á–∞—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.
- **–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–æ–≤**: –£–∑–µ–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∏—è AHT20 (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å) –∏ BMP280 (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –¥–∞–≤–ª–µ–Ω–∏–µ) –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥.
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ —Ö–∞–±–µ**: –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ IP `192.168.4.1`. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–∞, –¥–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ GPIO.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞):
- **–•–∞–±**: –†–µ–∂–∏–º `WiFi.mode(WIFI_AP_STA)`. –°–æ–∑–¥–∞—ë—Ç —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ `SmartHome-Hub` –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∞ –¥–ª—è ESP-NOW –∏—Å–ø–æ–ª—å–∑—É–µ—Ç STA-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- **–£–∑–µ–ª**: –†–µ–∂–∏–º `WiFi.mode(WIFI_STA)`. –ù–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ MAC —Ö–∞–±–∞ `9C:9C:1F:C7:2D:94`.
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —É–ø–∞–∫–æ–≤–∞–Ω—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `esp_now_message { char json[192]; uint8_t sender_id; }`.

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é: –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö —É–∑–ª–æ–≤, –¥–∞—Ç—á–∏–∫–æ–≤ –∏ —Ç–∏–ø–æ–≤ –∫–æ–º–∞–Ω–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±–º–µ–Ω–∞.

## üì± –ö–ê–ö –ü–û–î–ö–õ–Æ–ß–ò–¢–¨–°–Ø –ö –°–ò–°–¢–ï–ú–ï

1. –í–∫–ª—é—á–∏—Ç–µ —Ö–∞–±.
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –∫ Wi-Fi —Å–µ—Ç–∏: `SmartHome-Hub` (–ø–∞—Ä–æ–ª—å: `12345678`).
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `192.168.4.1`.
4. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
   - –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–º.
   - –î–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–æ–≤ (–ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É–∑–ª–∞).

## ‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –£–∑–µ–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ—à–∏–±–∫–∏ 12390.
- ‚úÖ –•–∞–± –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç —É–∑–ª–∞ `AC:EB:E6:49:10:28`.
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–∞—Ç—á–∏–∫–æ–≤.
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–í–∫–ª—é—á–∏—Ç—å/–í—ã–∫–ª—é—á–∏—Ç—å LED" —Ä–∞–±–æ—Ç–∞—é—Ç.
