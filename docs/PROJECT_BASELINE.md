rkdown
# –ü–ê–°–ü–û–†–¢ –ü–†–û–ï–ö–¢–ê: –£–º–Ω—ã–π –¥–æ–º –Ω–∞ ESP-NOW

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è

*   **–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 2.5 (—Å —Å–∏—Å—Ç–µ–º–æ–π –æ—Ö—Ä–∞–Ω—ã –∏ –∞—É–¥–∏–æ-—Ç—Ä–µ–≤–æ–≥–æ–π)
*   **–î–∞—Ç–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏:** 9 —Ñ–µ–≤—Ä–∞–ª—è 2026 –≥.
*   **–°—Ç–∞—Ç—É—Å:** üü¢ –†–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã.
*   **–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–º–Ω–æ–≥–æ –¥–æ–º–∞ –Ω–∞ –±–∞–∑–µ ESP-NOW. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–∞–± (ESP32) —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç —É–∑–ª–æ–≤ —Å –¥–∞—Ç—á–∏–∫–∞–º–∏ (ESP32-C3, ESP8266) –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –≤–∫–ª—é—á–∞—è —Å–∏—Å—Ç–µ–º—É –æ—Ö—Ä–∞–Ω—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.

## üñ•Ô∏è –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | –†–æ–ª—å / –ù–∞–∑–≤–∞–Ω–∏–µ | –ü–ª–∞—Ç–∞ / –ú–æ–¥–µ–ª—å | –ö–ª—é—á–µ–≤–æ–π MAC-–∞–¥—Ä–µ—Å |
| :--- | :--- | :--- | :--- |
| **–•–∞–±** | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —à–ª—é–∑, –≤–µ–±-—Å–µ—Ä–≤–µ—Ä | ESP32 DevKit | `9C:9C:1F:C7:2D:94` (STA) |
| **–£–∑–µ–ª 101** | –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è (–¥–∞—Ç—á–∏–∫–∏, –æ—Ö—Ä–∞–Ω–∞) | ESP32-C3 DevKit | `AC:EB:E6:49:10:28` |
| **–£–∑–µ–ª 102** | –¢–µ–ø–ª–∏—Ü–∞ (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥) | ESP8266 (NodeMCU) | `E8:9F:6D:87:34:8A` |

## üì¶ –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** PlatformIO Core (espressif32), Framework Arduino.

### –ü—Ä–æ–µ–∫—Ç "–•–∞–±" (`firmware/Hub/`)
```ini
lib_deps =
    bblanchon/ArduinoJson @ 6.21.3
    me-no-dev/ESPAsyncWebServer @ 3.6.0
    me-no-dev/AsyncTCP @ ^1.1.1
–ü—Ä–æ–µ–∫—Ç "–£–∑–µ–ª" (firmware/Node/)
ini
lib_deps =
    adafruit/Adafruit Unified Sensor @ ^1.1.14
    adafruit/Adafruit AHTX0 @ ^2.0.5
    adafruit/Adafruit BMP280 Library @ ^3.0.0
    bblanchon/ArduinoJson @ 6.21.3
lib_ignore = ArduinoOTA
build_flags = -DARDUINO_USB_CDC_ON_BOOT=1  # –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –¥–ª—è Serial
‚ö†Ô∏è –í–∞–∂–Ω–æ: –£–∫–∞–∑–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

üîå –°—Ö–µ–º—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
–î–∞—Ç—á–∏–∫–∏ —É–∑–ª–∞ "–ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è" (ESP32-C3)
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–ü–∏–Ω ESP32-C3	–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
AHT20 (I2C)	SDA: GPIO1, SCL: GPIO0	–ê–¥—Ä–µ—Å 0x38, –ø–∏—Ç–∞–Ω–∏–µ 3.3V
BMP280 (I2C)	SDA: GPIO1, SCL: GPIO0	–ê–¥—Ä–µ—Å 0x76, –ø–∏—Ç–∞–Ω–∏–µ 3.3V
–°–≤–µ—Ç–æ–¥–∏–æ–¥ (LED)	GPIO8	–ê–∫—Ç–∏–≤–Ω—ã–π LOW (HIGH = –≤—ã–∫–ª, LOW = –≤–∫–ª)
–°–∏—Å—Ç–µ–º–∞ –æ—Ö—Ä–∞–Ω—ã —É–∑–ª–∞ "–ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è"
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–ü–∏–Ω ESP32-C3	–õ–æ–≥–∏–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
–ö–æ–Ω—Ü–µ–≤–∏–∫ 1	GPIO3 (—Ä–µ–∂–∏–º INPUT_PULLUP)	–ù–æ—Ä–º–∞–ª—å–Ω–æ-–∑–∞–º–∫–Ω—É—Ç–∞—è —Ü–µ–ø—å: GPIO3 -> –ö–æ–Ω—Ü–µ–≤–∏–∫ -> GND. –†–∞–∑—Ä—ã–≤ = HIGH = –¢–†–ï–í–û–ì–ê.
–ö–æ–Ω—Ü–µ–≤–∏–∫ 2	GPIO4 (—Ä–µ–∂–∏–º INPUT_PULLUP)	–ù–æ—Ä–º–∞–ª—å–Ω–æ-–∑–∞–º–∫–Ω—É—Ç–∞—è —Ü–µ–ø—å: GPIO4 -> –ö–æ–Ω—Ü–µ–≤–∏–∫ -> GND. –†–∞–∑—Ä—ã–≤ = HIGH = –¢–†–ï–í–û–ì–ê.
–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –æ—Ö—Ä–∞–Ω—ã: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥—Ç—è–∂–∫–∞ (PULLUP) –¥–µ—Ä–∂–∏—Ç –ø–∏–Ω –≤ HIGH –ø—Ä–∏ —Ä–∞–∑–æ–º–∫–Ω—É—Ç–æ–π —Ü–µ–ø–∏. –ó–∞–º—ã–∫–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–≤–∏–∫–∞ –Ω–∞ GND –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ø–∏–Ω –≤ LOW, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–ù–û–†–ú–ê". –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ö–µ–º–∞: –æ–±—Ä—ã–≤ –ø—Ä–æ–≤–æ–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥—É.

‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã
–°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
Wi-Fi —Ö–∞–±–∞: –¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ SmartHome-Hub (–ø–∞—Ä–æ–ª—å: 12345678).

IP-–∞–¥—Ä–µ—Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: 192.168.4.1.

–†–µ–∂–∏–º—ã Wi-Fi:

–•–∞–±: WIFI_AP_STA (STA –¥–ª—è ESP-NOW, AP –¥–ª—è –≤–µ–±–∞).

–£–∑–ª—ã: WIFI_STA.

–ü—Ä–æ—Ç–æ–∫–æ–ª –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ ESP-NOW —Å–æ–æ–±—â–µ–Ω–∏—è:

cpp
typedef struct esp_now_message {
    char json[192]; // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è JSON
    uint8_t sender_id;
} esp_now_message;
–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–æ–≤: 30 —Å–µ–∫—É–Ω–¥.

–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ö—Ä–∞–Ω—ã: 2 —Å–µ–∫—É–Ω–¥—ã (–æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏).

–°–∫–æ—Ä–æ—Å—Ç—å Serial Monitor: 115200 –±–æ–¥.

–§–æ—Ä–º–∞—Ç—ã –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö (JSON)
–î–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–æ–≤ (–£–∑–µ–ª -> –•–∞–±):

json
{
  "type": "sensor",
  "data": {
    "AHT20": {"temp": 25.5, "hum": 60.1},
    "BMP280": {"temp": 25.3, "press_mmHg": 755.2}
  }
}
–°—Ç–∞—Ç—É—Å –æ—Ö—Ä–∞–Ω—ã (–£–∑–µ–ª -> –•–∞–±):

json
{
  "type": "security",
  "alarm": false,
  "contact1": false,
  "contact2": false
}
–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–•–∞–± -> –£–∑–µ–ª):

json
{"type": "command", "command": "LED_ON"}
{"type": "command", "command": "GET_STATUS"}
üìÅ –°—Å—ã–ª–∫–∏ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–¥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Ö–∞–±–∞ (V2.5): firmware/Hub/src/main.cpp

–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —É–∑–ª–∞ (—Å –æ—Ö—Ä–∞–Ω–æ–π): firmware/Node/src/main.cpp

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å—Ä–µ–¥—ã: docs/DEVELOPMENT_SETUP.md

–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞: docs/ROADMAP.md

–ü–∞—Å–ø–æ—Ä—Ç –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞: docs/CHAT_TRANSITION.md

üíé –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞: –≠—Ç–æ—Ç —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–∞–±–æ—á–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞. –í—Å–µ –≤–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤ –∫–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫, –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –ø–∏–Ω—ã –∏–ª–∏ –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Ä–∞–∂–µ–Ω—ã –∑–¥–µ—Å—å.