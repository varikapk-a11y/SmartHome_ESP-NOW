# Настройка среды разработки для проекта "Умный дом на ESP-NOW"

## Проблема с отсутствием кнопок сборки и прошивки

Если вы открыли весь проект целиком в VSCode, то кнопки сборки и прошивки могут не отображаться, потому что проект состоит из двух отдельных PlatformIO проектов: Hub и Node.

## Структура проекта

Проект состоит из двух независимых PlatformIO проектов:
- `firmware/Hub/` - проект для ESP32 хаба
- `firmware/Node/` - проект для ESP32-C3 узла

## Правильное открытие проектов в VSCode

### Вариант 1: Открытие проектов по отдельности

1. Закройте текущее окно VSCode с проектом
2. Откройте VSCode
3. Выберите "File" → "Open Folder"
4. Выберите папку `firmware/Hub` из проекта
5. Откроется проект хаба с кнопками сборки и прошивки
6. Повторите шаги 1-4 для проекта узла, выбрав папку `firmware/Node`

### Вариант 2: Работа с несколькими корневыми папками

1. В текущем окне VSCode откройте палитру команд (Ctrl+Shift+P)
2. Введите "Add Folder to Workspace"
3. Выберите папку `firmware/Hub`
4. Повторите шаги 2-3 для папки `firmware/Node`
5. Сохраните рабочую область: "File" → "Save Workspace As"

## Проверка установки PlatformIO

Убедитесь, что у вас установлено расширение PlatformIO IDE:
1. Откройте панель расширений в VSCode (Ctrl+Shift+X)
2. Найдите "PlatformIO IDE"
3. Убедитесь, что расширение установлено и активно

## Работа с проектами

### Проект Hub (ESP32)
- Плата: ESP32 DevKit
- Основной файл: `src/main.cpp`
- Конфигурация: `platformio.ini`

### Проект Node (ESP32-C3)
- Плата: ESP32-C3 DevKit
- Основной файл: `src/main.cpp`
- Конфигурация: `platformio.ini`

## Сборка и прошивка

После правильного открытия проекта в нижней части окна VSCode должны появиться кнопки:
- ✓ - Проверка (Build)
- → - Загрузка (Upload)
- ↔ - Монитор последовательного порта (Serial Monitor)

Также можно использовать панель PlatformIO слева:
1. Нажмите на значок PlatformIO (жука) в левой панели
2. В разделе "PROJECT TASKS" будут доступны команды:
   - Build
   - Upload
   - Clean
   - Monitor

## Возможные проблемы и решения

### Проблема: Кнопки не отображаются
**Решение:** Убедитесь, что открыта именно папка проекта (Hub или Node), а не весь проект целиком.

### Проблема: PlatformIO не распознает проект
**Решение:** Проверьте наличие файла `platformio.ini` в корне открытой папки.

### Проблема: Ошибки при сборке
**Решение:** 
1. Проверьте подключение к интернету (для загрузки библиотек)
2. Убедитесь, что установлены все зависимости из `platformio.ini`
3. Проверьте настройки порта в `platformio.ini` при необходимости

## Рекомендации по разработке

1. Работайте с каждым проектом (Hub и Node) по отдельности
2. Перед внесением изменений ознакомьтесь с `docs/PROJECT_BASELINE.md`
3. Соблюдайте инструкции по первому запуску из `docs/PROJECT_BASELINE.md`
4. При внесении изменений в библиотеки обновляйте информацию в `docs/PROJECT_BASELINE.md`