# Папка Tests - Тестирование датчиков и компонентов

Здесь хранятся тестовые файлы для разработки отдельных компонентов системы SmartHome перед интеграцией в основной проект.

## Файлы

### `greenhouse_sensor_test.cpp` / `greenhouse_sensor_test.h`
Тестирование датчика теплицы:
- **Влажность почвы** (0-100%) - аналоговый датчик на GPIO 34
- **Температура** (°C) - DHT22 на GPIO 15
- **Влажность воздуха** (%) - DHT22 на GPIO 15
- **Уровень света** (0-100%) - датчик на GPIO 35

**Функции:**
- `readSoilMoisture()` - чтение влажности почвы с усреднением
- `readLightLevel()` - чтение уровня освещённости
- `readDHTSensor()` - чтение температуры и влажности
- `captureAllSensorData()` - снять все показания за раз
- `getSensorDataAsJSON()` - получить данные в JSON формате (готово для отправки)
- `printSensorData()` - вывести красиво в Serial
- `printSensorDataJSON()` - вывести JSON в Serial

**Как использовать для тестирования:**
```cpp
// В main.cpp (временно)
#include "Tests/greenhouse_sensor_test.h"

void setup() {
    testSetup();
}

void loop() {
    testLoop();  // Будет выводить данные каждые 5 сек
}
```

**Когда готовы интегрировать в основной проект:**
- Скопировать нужные функции в основной `main.cpp`
- Использовать `captureAllSensorData()` + `getSensorDataAsJSON()`
- Отправить JSON через ESP-NOW или WebSocket

## Примечания

- Все датчики с усреднением (10 образцов) для стабильности
- JSON формат совместим с основной системой
- Пины настраиваются в `#define` в начале файла
- DHT22 требует библиотеку `#include <DHT.h>` при интеграции
