[env:esp32-c3-devkitm-1]
platform = espressif32
board = esp32-c3-devkitm-1
framework = arduino

; Отключаем ArduinoOTA для экономии памяти
lib_ignore = 
	ArduinoOTA

; Скорость монитора порта
monitor_speed = 115200

; КЛЮЧЕВЫЕ ФЛАГИ ДЛЯ USB-CDC - то что вы прислали
build_flags = 
	-D ARDUINO_USB_MODE=1
	-D ARDUINO_USB_CDC_ON_BOOT=1
	-Og

; Декодер исключений ESP32
monitor_filters = esp32_exception_decoder

; Отключаем оптимизацию размера
build_unflags = -Os

; Важно для ESP32-C3 - отключаем DTR сброс
monitor_dtr = 0